include_directories(${LLVM_INCLUDE_DIRS})
include_directories(${MLIR_INCLUDE_DIRS})
include_directories(${PROJECT_SOURCE_DIR}/include)
include_directories(${PROJECT_BINARY_DIR}/include)
link_directories(${LLVM_BUILD_LIBRARY_DIR})
add_definitions(${LLVM_DEFINITIONS})

set(LLVM_TARGET_DEFINITIONS PatchIR.td)
mlir_tablegen(PatchIR.h.inc -gen-op-decls)
mlir_tablegen(PatchIR.cpp.inc -gen-op-defs)
mlir_tablegen(PatchIRTypes.h.inc -gen-typedef-decls -typedefs-dialect=patchir)
mlir_tablegen(PatchIRTypes.cpp.inc -gen-typedef-defs -typedefs-dialect=patchir)
mlir_tablegen(PatchIRDialect.h.inc -gen-dialect-decls -dialect=patchir)
mlir_tablegen(PatchIRDialect.cpp.inc -gen-dialect-defs -dialect=patchir)
mlir_tablegen(PatchIRAttrs.h.inc -gen-attrdef-decls -attrdefs-dialect=patchir)
mlir_tablegen(PatchIRAttrs.cpp.inc -gen-attrdef-defs -attrdefs-dialect=patchir)
add_public_tablegen_target(MLIRPatchIRIncGen)
add_dependencies(mlir-headers MLIRPatchIRIncGen)